document.getStyle=function(b,a){if(b.currentStyle){return b.currentStyle[a]}else{if(window.getComputedStyle){return document.defaultView.getComputedStyle(b,null).getPropertyValue(a)}}return false};if(typeof document.getElementsByClassName!="function"){document.getElementsByClassName=function(e){var a,d=new Array(),b=0,f;if(this.all){a=this.all}else{if(this.getElementsByTagName&&!this.all){a=this.getElementsByTagName("*")}}for(var c=0;c<a.length;c++){if(a[c].className.indexOf(e)!=-1){f=","+a[c].className.split(" ").join(",")+",";if(f.indexOf(","+e+",")!=-1){d[b]=a[c];b++}}}return d}}document.preloadImages=function(a,d){if(typeof a!="object"){a=[a]}d=d||"";var b=[];for(var c=0;c<a.length;c++){b[c]=new Image();b[c].src=d+a[c]}};document.getTarget=function(a){a=a||window.event;return a.target||a.srcElement||false};if(window.Node&&Node.prototype&&!Node.prototype.contains){Node.prototype.contains=function(a){try{return !!(this.compareDocumentPosition(a)&16)}catch(b){return false}}}document.createInputElementWithAttributes=function(c,a,f){if(c.toLowerCase()!="input"&&c.toLowerCase()!="button"){return}var e=false;var d=false;for(var b=0;b<a.length;b++){if(a[b][0].toLowerCase()=="type"){e=a[b][1];break}}if(e){try{d=document.createElement(c);d.type=e}catch(g){d=document.createElement("<"+c+' type="'+e+'">')}}d=d||document.createElement(c);for(var b=0;b<a.length;b++){if(a[b][0].toLowerCase()!="type"){d[a[b][0]]=a[b][1]}}if(f){f.appendChild(d)}return d};document.createElementWithAttributes=function(c,a,e){if(c.toLowerCase()=="input"||c.toLowerCase()=="button"){return document.createInputElementWithAttributes(c,a,e)}var d=document.createElement(c);for(var b=0;b<a.length;b++){d[a[b][0]]=a[b][1]}if(e){e.appendChild(d)}return d};document.getScrollPosition=function(){var a=0,b=0;if(typeof window.pageYOffset=="number"){b=window.pageYOffset;a=window.pageXOffset}else{if(document.compatMode&&document.compatMode=="CSS1Compat"){b=document.documentElement.scrollTop;a=document.documentElement.scrollLeft}else{if(document.body&&typeof document.body.scrollLeft=="number"&&typeof document.body.scrollTop=="number"){b=document.body.scrollTop;a=document.body.scrollLeft}}}return{left:a,top:b}};document.getWindowSize=function(){var a,d,c,f;if(window.innerHeight&&window.scrollMaxY){a=document.body.scrollWidth;d=window.innerHeight+window.scrollMaxY}else{if(document.body.scrollHeight>document.body.offsetHeight){a=document.body.scrollWidth;d=document.body.scrollHeight}else{a=document.getElementsByTagName("html").item(0).offsetWidth;d=document.getElementsByTagName("html").item(0).offsetHeight;a=(a<document.body.offsetWidth)?document.body.offsetWidth:a;d=(d<document.body.offsetHeight)?document.body.offsetHeight:d}}if(window.innerHeight){c=window.innerWidth;f=window.innerHeight}else{if(document.compatMode&&document.compatMode=="CSS1Compat"){c=document.documentElement.clientWidth;f=document.documentElement.clientHeight}else{if(document.body){c=document.getElementsByTagName("html").item(0).clientWidth;f=document.getElementsByTagName("html").item(0).clientHeight;c=(c==0)?document.body.clientWidth:c;f=(f==0)?document.body.clientHeight:f}}}var e=(d<f)?f:d;var b=(a<c)?c:a;return{pageWidth:b,pageHeight:e,windowWidth:c,windowHeight:f}};document.getKeyCode=function(a){a=a||window.event;if((typeof a.which=="undefined"||(typeof a.which=="number"&&a.which==0))&&typeof a.keyCode=="number"){return a.keyCode}else{return a.which}};document.getElementPoSi=function(a){var b={top:0,left:0,width:0,height:0};if(!a||typeof(a)!="object"){return b}if(typeof(a.offsetTop)!="undefined"){b.height=a.offsetHeight;b.width=a.offsetWidth;b.left=b.top=0;while(a&&a.tagName!="BODY"){b.top+=parseInt(a.offsetTop);b.left+=parseInt(a.offsetLeft);a=a.offsetParent}}return b};document.getFirstChildByElement=function(d,c,b){if(b&&typeof(b)!="object"){b=[b]}if(d&&d.hasChildNodes()){var e=d.firstChild;while(e!=null){if(e.nodeName.toLowerCase()==c){if(!b){return e}else{var f=","+e.className.split(" ").join(",")+",";for(var a=0;a<b.length;a++){if(f.indexOf(","+b[a]+",")!=-1){return e}}}}e=e.nextSibling}}return null};document.getMousePos=function(b){b=b||window.event;var a=(window.document.compatMode&&window.document.compatMode=="CSS1Compat")?window.document.documentElement:window.document.body;return{top:b.pageY?b.pageY:b.clientY+a.scrollTop-a.clientTop,left:b.pageX?b.pageX:b.clientX+a.scrollLeft-a.clientLeft}};if(typeof String.prototype.trim!="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}String.prototype.containsLineBreak=function(){var a=new RegExp(/(\n|\r|\r\n)./);return a.test(this)};String.prototype.stripslashes=function(){var a=this;a=a.replace(/\\'/g,"'");a=a.replace(/\\"/g,'"');a=a.replace(/\\0/g,"\0");a=a.replace(/\\\\/g,"\\");return a};var ready=new (function(){var g=0,f=document,b=window,c=this,a;c.isReady=0;c.readyList=[];function e(){if(g){return}g=1;if(f.addEventListener){a="DOMContentLoaded";f.addEventListener(a,function(){f.removeEventListener(a,arguments.callee,false);ready.ready()},false)}else{if(f.attachEvent){a="onreadystatechange";f.attachEvent(a,function(){if(f.readyState==="complete"){f.detachEvent(a,arguments.callee);ready.ready()}});if(f.documentElement.doScroll&&b==b.top){(function(){if(c.isReady){return}try{f.documentElement.doScroll("left")}catch(d){setTimeout(arguments.callee,0);return}ready.ready()})()}}}b.onload=ready.ready}c.ready=function(){if(!c.isReady){c.isReady=1;if(c.readyList){for(var d=0;d<c.readyList.length;d++){c.readyList[d].call(b,c)}c.readyList=null}f.loaded=true}};c.push=function(d){e();if(c.isReady){d.call(b,c)}else{c.readyList.push(d)}return c}})();function Query(b,a){a=a||"";var c=b.trim();var d=encodeURIComponent(a.toString().trim());this.toString=function(){return c+"="+d+"&"}}function Request(c,h,a,n,g,p,d,b){p=p?(typeof p=="object"?p:[p]):[];d=d||false;b=b?b:d?"text/xml":"text/plain";n=n||null;var l=false;try{if(window.XMLHttpRequest){l=new XMLHttpRequest()}if(l.overrideMimeType){l.overrideMimeType(b)}else{if(window.ActiveXObject){try{l=new ActiveXObject("Msxml2.XMLHTTP")}catch(o){try{l=new ActiveXObject("Microsoft.XMLHTTP")}catch(r){l=false}}}}}catch(j){l=false}if(!l){if(n&&typeof n[g]=="function"){n[g](false,p)}return}var f="";if(a instanceof Query){f=a.toString()}else{if(typeof a=="object"&&a.length>0){for(var k=0;k<a.length;k++){f+=a[k].toString()}}}f+=new Date().getTime();l.abort();l.onreadystatechange=function(){if(l.readyState==4){if(n&&typeof n[g]=="function"){n[g]((d?l.responseXML:l.responseText),p)}l=false}};if(h.toLowerCase()=="post"){l.open("POST",c,true);l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");l.send(f)}else{l.open("GET",c+"?"+f,true);l.send(null)}}function Sidebar(g){g=g||"";var a=document.getElementById("sidebar")||document.getElementById("bottombar")||false;var f=document.getElementById("sidebarcontent");var e=document.getElementById("sidebartoggle");var c=this;if(!a||!f||!e){return}this.setVisible=function(h){if(h){f.style.display="";e.src=g+settings.hide_sidebar_image;e.className="hide-sidebar"}else{f.style.display="none";e.src=g+settings.show_sidebar_image;e.className="show-sidebar"}};this.isVisible=function(){return f.style.display!="none"};var b=a.getElementsByTagName("a");for(var d=0;d<b.length;d++){if(b[d].href.search(/toggle_sidebar/)!=-1){b[d].onclick=function(h){c.setVisible(!c.isVisible());new Request("index.php","POST",new Query("toggle_sidebar",true));return false}}}}function Thread(h,l){var e=false;if(!isNaN(parseInt(h))){e=h;h=document.getElementById("thread-"+e)}else{var f=new RegExp(/thread-([0-9])+/);var a=f.exec(h.id);if(!a){return}e=a&&a.length>1?a[1]:0}var n=h.getElementsByTagName("li");var m=h.getElementsByTagName("ul");var o=this;var k=new Image();var b=null;if(h.parentNode.nodeName!="TD"){var g=document.getFirstChildByElement(n[0],"span",["tail"]);if(g&&n.length>1){b=document.getFirstChildByElement(g,"span",["replies"]);if(!b){b=document.createElementWithAttributes("span",[["className","replies"]],g);b.appendChild(document.createTextNode(" ("+(n.length-1)+")"))}}}this.isFold=function(){return m.length>0&&m[0].style.display=="none"};this.setFold=function(r,q){q=q||false;if(r){k.src=l+settings.expand_thread_image;k.className="expand-thread";k.alt="";k.onerror=function(t){this.alt="[+]"};k.title=lang.expand_fold_thread_linktitle;if(b){b.style.display=""}if(q){h.className=h.className.replace("expanded","folded")}}else{k.src=l+settings.fold_thread_image;k.className="fold-thread";k.alt="";k.onerror=function(t){this.alt="[-]"};k.title=lang.expand_fold_thread_linktitle;if(b){b.style.display="none"}if(q){h.className=h.className.replace("folded","expanded")}}var p=r?"none":"";for(var s=0;s<m.length;s++){m[s].style.display=p}};var c=function(p){if(!p){return}if(n.length>0&&n[0].firstChild){n[0].insertBefore(p,n[0].firstChild)}else{n[0].appendChild(p)}};var d=document.createElementWithAttributes("span",[["className","fold-expand"]],null);if(n.length==1){var i=document.createElementWithAttributes("img",[["src",l+settings.expand_thread_inactive_image],["alt",""],["onerror",function(p){this.alt="[]"}]],d);c(d)}else{var j=document.createElementWithAttributes("a",[["href","#"],["onclick",function(p){o.setFold(!o.isFold());this.blur();return false}]],d);this.setFold(this.isFold());j.appendChild(k);c(d)}}function Posting(b){if(!b){return}var d=document.getElementById("headline-"+b);var c=document.getElementById("posting-"+b);var g=document.getElementById("avatar-"+b)||new Image();if(!d||!c){return}var a=this;try{d.style.cursor="pointer"}catch(f){d.style.cursor="hand"}d.title=lang.fold_posting_title;d.onclick=function(h){a.setFold(!a.isFold())};this.isFold=function(){return c.style.display=="none"};this.setFold=function(h){var e=h?"none":"";c.style.display=e;g.style.display=e};this.setFold(this.isFold())}function AjaxPreviewWindow(c,n){var n=n?n:"";var e=false;var h=document.getElementById("ajax-preview");var o=this;if(!h){h=document.createElementWithAttributes("div",[["id","ajax-preview"]],null);h.style.display="none";document.body.appendChild(h)}h.innerHTML=c.stripslashes().trim();var j=null;var l=0;var f=document.getElementById("ajax-preview-close");var b=document.getElementById("ajax-preview-content");var m=document.getElementById("ajax-preview-main");if(!f||!b||!m){window.alert("AjaxPreviewWindow kann nicht erzeugt werden!")}var i=window.document.onmousedown;window.document.onmousedown=function(p){o.closeByOutSideClick(p);if(typeof i=="function"){i(p)}};var k=window.document.onkeypress;window.document.onkeypress=function(q){var p=document.getKeyCode(q);if(p==27){o.setVisible(false)}if(typeof k=="function"){k(q)}};f.onclick=function(){o.setVisible(false);return false};var a=document.createElementWithAttributes("img",[["id","ajax-preview-throbber"],["src",n+settings.ajax_preview_throbber_image],["alt","[*]"]],b);var g=document.createElementWithAttributes("p",[["id","ajax-preview-replylink-wrapper"]],b);var d=document.createElementWithAttributes("a",[["id","ajax-preview-replylink"],["href","#"]],null);d.appendChild(document.createTextNode(lang.reply_link));g.style.display="none";this.closeByOutSideClick=function(u){if(o.isVisible()){var s=document.getTarget(u);if(s&&s!=o.getOpener().firstChild){var r=document.getMousePos(u);var q=r.left;var p=r.top;var x=o.getDocumentPosition().left;var w=o.getDocumentPosition().top;var t=o.getWidth();var v=o.getHeight();if((q<x||q>(x+t)||p<w||p>(w+v))&&s.className!="ap"){o.setVisible(false)}}}};this.hideURI=function(p){e=p};this.setPosition=function(q,s){h.style.left=q+"px";h.style.top=s+"px";var r=this.getWidth();var p=document.getWindowSize().windowWidth;if((q+r)>=p){this.moveHorizontal(p-25-(q+r))}else{this.moveHorizontal(0)}};this.getWidth=function(){return m.offsetWidth};this.getHeight=function(){return h.offsetHeight+m.offsetHeight};this.setOpener=function(p){j=p};this.getOpener=function(){return j};this.isVisible=function(){return h.style.display!="none"};this.getDocumentPosition=function(){var q=h.offsetLeft;var p=h.offsetTop;return{top:p,left:q+l}};this.moveHorizontal=function(p){l=p;m.style.left=p+"px"};this.setVisible=function(p){if(p){h.style.display="block"}else{h.style.display="none"}};this.setText=function(p){b.innerHTML=p;if(p!=""){if(!d.firstChild){d.appendChild(document.createTextNode(lang.reply_link))}if(!e){g.appendChild(d);b.appendChild(g)}}else{b.appendChild(a)}};this.setURI=function(p){if(!p){d.href="#";g.style.display="none"}else{g.style.display="block";d.href=p}}}function MyLittleJavaScript(){var templatePath=null;var ajaxPreviewWindow=null;var sidebar=null;var strURL="index.php";var threads=[];var postings=[];var regExpFID=new RegExp(/[?|&]id=([0-9]+)(#p([0-9]+))?/);var self=this;var getPostingId=function(link){if(link&&regExpFID.test(link.href)){var q=regExpFID.exec(link.href);return q[3]?q[3]:q[1]}return false};this.getTemplatePath=function(){if(templatePath!=null){return templatePath}var el=document.getElementsByTagName("link");for(var i=0;i<el.length;i++){if(el[i].rel=="stylesheet"){return el[i].href.substring(0,el[i].href.lastIndexOf("/")+1)}}return""};var createAjaxPreviewLink=function(id){var link=document.createElementWithAttributes("a",[["pid",id],["title",lang.ajax_preview_title],["href",strURL+"?id="+id],["onclick",function(e){self.showAjaxPreviewWindow(this);this.blur();return false}]],null);var img=document.createElementWithAttributes("img",[["src",templatePath+settings.ajax_preview_image],["title",lang.ajax_preview_title],["alt",""],["onload",function(e){this.alt="[…]"}],["onerror",function(e){this.alt="[…]"}]],link);return link};var setPreviewBoxToProfil=function(el){if(!el||!ajaxPreviewWindow){return}var pid=getPostingId(el);if(pid&&el.parentNode){el.parentNode.appendChild(document.createTextNode(String.fromCharCode(160)));el.parentNode.appendChild(createAjaxPreviewLink(pid))}};var setPreviewBoxToReplyPage=function(el){if(!el||!ajaxPreviewWindow){return}ajaxPreviewWindow.hideURI(true);var f=document.getElementById("postingform");var pid=false;if(f&&f.elements.id){pid=parseInt(f.elements.id.value)}if(pid){el.appendChild(document.createTextNode(String.fromCharCode(160)));el.appendChild(createAjaxPreviewLink(pid))}};this.selectPosting=function(par1,par2){var isResponse=par2&&typeof par2=="object"&&par2.length>0;var pid=isResponse?par2[0]:par1;var xml=isResponse?par1:false;var imgEl=null;if(!pid||!(imgEl=document.getElementById("markimg_"+pid))){return}imgEl.src=templatePath+settings.mark_process_image;imgEl.alt="[ ]";var querys=[new Query("mode","posting"),new Query("mark",pid),new Query("method","ajax")];if(!isResponse){new Request(strURL,"POST",querys,this,"selectPosting",pid,true)}else{if(isResponse&&xml&&document.getElementById("marklink_"+pid)){var linkEl=document.getElementById("marklink_"+pid);var selectPosting=xml.getElementsByTagName("action")&&xml.getElementsByTagName("action")[0].firstChild.data=="1";if(selectPosting){imgEl.src=templatePath+settings.marked_image;imgEl.alt="[●]";linkEl.title=lang.unmark_linktitle;imgEl.title=lang.unmark_linktitle}else{imgEl.src=templatePath+settings.unmarked_image;imgEl.alt="[○]";linkEl.title=lang.mark_linktitle;imgEl.title=lang.mark_linktitle}}}};var expandAllThreads=function(expand){expand=expand||false;for(var i=0;i<threads.length;i++){threads[i].setFold(!expand,true)}var querys=[new Query("fold_threads",expand),new Query("ajax","true")];new Request(strURL,"GET",querys)};var initThreadFoldingInSubMenu=function(){if(!document.getElementById("subnavmenu")){return}var menuLinks=document.getElementById("subnavmenu").getElementsByTagName("a");var foldingLink=null;var foldRegExp=new RegExp(/fold-([0-9])+/);for(var i=0;i<menuLinks.length;i++){if(menuLinks[i].className.search(foldRegExp)!=-1){foldingLink=menuLinks[i];break}}if(foldingLink){var q=foldRegExp.exec(foldingLink.className);var isExpand=q.length>1&&q[1]=="1";foldingLink.onclick=function(e){expandAllThreads(!isExpand);this.className=this.className.replace(foldRegExp,"fold-"+(isExpand?2:1));this.firstChild.replaceData(0,this.firstChild.nodeValue.length,(isExpand?lang.expand_threads:lang.fold_threads));this.title=isExpand?lang.expand_threads_linktitle:lang.fold_threads_linktitle;isExpand=!isExpand;this.blur();return false}}};var setPreviewBoxToMainPage=function(els){if(!els){return}initThreadFoldingInSubMenu();for(var i=0;i<els.length;i++){var el=els[i];var li=el.parentNode;var pLink=document.getFirstChildByElement(li,"a",["ap","reply","thread","replynew","threadnew","thread-sticky","threadnew-sticky","reply-search","thread-search"]);var pid=parseInt(el.id.substring(1));if(!pid){continue}var links=el.getElementsByTagName("a");if(links.length>=2){for(var j=0;j<links.length;j++){if(links[j].href.search(/mark/)!=-1){links[j].pid=pid;links[j].onclick=function(e){self.selectPosting(this.pid);this.blur();return false}}else{if(links[j].href.search(/delete_posting/)!=-1){links[j].onclick=function(e){var confirmed=window.confirm(lang.delete_posting_confirm);if(confirmed){this.href+="&delete_posting_confirm=true"}this.blur();return confirmed}}}}}if(pLink&&ajaxPreviewWindow){if(links.length>=1){var link=links[0];el.insertBefore(createAjaxPreviewLink(pid),link);el.insertBefore(document.createTextNode(String.fromCharCode(160)),link)}else{el.appendChild(document.createTextNode(String.fromCharCode(160)));el.appendChild(createAjaxPreviewLink(pid))}}if(li.parentNode.className.search(/thread/)!=-1&&li.parentNode.className.search(/[folded|expanded]/)!=-1){threads.push(new Thread(li.parentNode,templatePath))}}var editAreas=document.getElementsByClassName("options");if(editAreas.length>0){for(var i=0;i<editAreas.length;i++){var links=editAreas[i].getElementsByTagName("a");if(links.length>0){for(var j=0;j<links.length;j++){if(links[j].href.search(/delete_posting/)!=-1){links[j].onclick=function(e){var confirmed=window.confirm(lang.delete_posting_confirm);if(confirmed){this.href+="&delete_posting_confirm=true"}return confirmed};break}}}}}initFullSizeImage()};var initFullSizeImage=function(){var postings=document.getElementsByClassName("posting");postings=postings.length>0?postings:document.getElementsByClassName("thread-posting");if(!postings){return}var hashTrigger=null;var body=document.body;var isIELower8=
/*@cc_on!@*/
false&&!(document.documentMode&&document.documentMode>=8);var imageCanvas=document.getElementById("image-canvas")||document.createElementWithAttributes("div",[["id","image-canvas"]],body);imageCanvas.setVisible=function(enable){this.style.display=enable?"block":"none";if(!enable&&hashTrigger){window.clearInterval(hashTrigger);var scrollPos=document.getScrollPosition();if(!isIELower8){window.history.back()}else{window.location.hash="GET_OPERA"}window.scrollTo(scrollPos.left,scrollPos.top)}};var oldOnKeyPressFunc=window.document.onkeypress;window.document.onkeypress=function(e){var keyCode=document.getKeyCode(e);if(keyCode==27){imageCanvas.setVisible(false)}if(typeof oldOnKeyPressFunc=="function"){oldOnKeyPressFunc(e)}};imageCanvas.onclick=function(e){imageCanvas.setVisible(false)};imageCanvas.setVisible(false);var fullSizeImage=document.getElementById("fullSizeImage")||document.createElementWithAttributes("img",[["id","fullSizeImage"]],imageCanvas);fullSizeImage.style.position="absolute";for(var i=0;i<postings.length;i++){var links=postings[i].getElementsByTagName("a");for(var j=0;j<links.length;j++){if(links[j].rel.search(/thumbnail/)!=-1){links[j].onclick=function(e){window.location.hash="image";var currentHash=window.location.hash;fullSizeImage.src=this.href;imageCanvas.setVisible(true);var imgPoSi=document.getElementPoSi(fullSizeImage);var scrollPos=document.getScrollPosition();var winSize=document.getWindowSize();imageCanvas.style.height=winSize.pageHeight+"px";fullSizeImage.style.left=((winSize.windowWidth-imgPoSi.width)/2)+"px";fullSizeImage.style.top=(scrollPos.top+(winSize.windowHeight-imgPoSi.height)/15)+"px";hashTrigger=window.setInterval(function(){if(this.location.hash!=currentHash){imageCanvas.setVisible(false)}},50);return false}}}}};var setDefaultInputValue=function(id){var inp=document.getElementById(id);if(!inp){return}var value=inp.value;inp.onfocus=function(e){if(this.value==value){this.value=""}};inp.onblur=function(e){if(this.value.trim()==""){this.value=value}}};var setFocusToContentForm=function(){if(document.getElementById("content")){var f=document.getElementById("content").getElementsByTagName("form");if(f&&f.length>0){for(var i=0;i<f[0].elements.length;i++){if(f[0].elements[i].type=="text"&&f[0].elements[i].name!="search_user"&&f[0].elements[i].name!="smiley_code"&&f[0].elements[i].name!="new_category"){f[0].elements[i].focus();break}}}}};var expandAllPostings=function(expand){expand=expand||false;for(var i=0;i<postings.length;i++){postings[i].setFold(!expand)}};var initPostingFolding=function(els){if(!els){return}for(var i=0;i<els.length;i++){var el=els[i];var pid=parseInt(el.id.substring(1));if(!pid){continue}postings.push(new Posting(pid))}var menu=null;if(postings.length==0||!(menu=document.getElementById("subnavmenu"))){return}var listEntry=document.createElementWithAttributes("li",[],menu);var link=document.createElementWithAttributes("a",[["isExpand",true],["title",lang.fold_postings_title],["href","#"],["className","fold-postings"]],listEntry);link.appendChild(document.createTextNode(lang.fold_postings));link.onclick=function(e){this.isExpand=!this.isExpand;expandAllPostings(this.isExpand);this.blur();return false}};var initPopUpLinks=function(){var els=[[document.getElementById("terms_of_use")||false,settings.terms_of_use_popup_width,settings.terms_of_use_popup_height],[document.getElementById("edit_avatar")||false,settings.avatar_popup_width,settings.avatar_popup_height]];for(var i=0;i<els.length;i++){if(els[i][0]){var docSize=document.getWindowSize();var w=els[i][1];var h=els[i][2];var l=parseInt(0.5*(docSize.windowWidth-w));var t=parseInt(0.25*(docSize.windowHeight-h));els[i][0].onclick=function(e){window.open(this.href,"MyLittleForum","width="+w+",height="+h+",left="+l+",top="+t+",scrollbars,resizable");return false}}}};this.updateAjaxPreviewWindow=function(xml){if(xml===false||!ajaxPreviewWindow){return}var content=xml.getElementsByTagName("content");var isLocked=xml.getElementsByTagName("locked");isLocked=!isLocked?true:isLocked[0].firstChild.data=="1";content=!content?"":content[0].firstChild.data;if(isLocked){ajaxPreviewWindow.setURI(false)}else{ajaxPreviewWindow.setURI("index.php?mode=posting&id="+ajaxPreviewWindow.getOpener().pid)}if(content.trim()==""){content="<p>"+lang.no_text+"</p>"}ajaxPreviewWindow.setText(content)};this.showAjaxPreviewWindow=function(obj){if(!obj||!ajaxPreviewWindow){return}if(obj==ajaxPreviewWindow.getOpener()&&ajaxPreviewWindow.isVisible()){ajaxPreviewWindow.setVisible(false);ajaxPreviewWindow.setOpener(null)}else{var elPos=document.getElementPoSi(obj);ajaxPreviewWindow.setOpener(obj);ajaxPreviewWindow.setText("");ajaxPreviewWindow.setVisible(true);ajaxPreviewWindow.setPosition(elPos.left,elPos.top);var querys=[new Query("mode","entry"),new Query("ajax_preview","true"),new Query("id",obj.pid)];new Request(strURL,"POST",querys,this,"updateAjaxPreviewWindow",null,true)}};this.getAjaxPreviewWindow=function(){return ajaxPreviewWindow};this.init=function(ajaxPreviewStructure){ajaxPreviewStructure=ajaxPreviewStructure||false;setFocusToContentForm();setDefaultInputValue("search-input");setDefaultInputValue("search-user");templatePath=this.getTemplatePath();if(ajaxPreviewStructure){ajaxPreviewWindow=new AjaxPreviewWindow(ajaxPreviewStructure,templatePath)}setPreviewBoxToProfil(document.getElementById("user-last-posting"));setPreviewBoxToReplyPage(document.getElementById("reply-to"));setPreviewBoxToMainPage(document.getElementsByClassName("tail"));initPostingFolding(document.getElementsByClassName("thread-posting"));initPopUpLinks();sidebar=new Sidebar(templatePath);if(typeof preload=="object"){document.preloadImages(preload,templatePath)}}}var mlf=null;window.ready.push(function(){mlf=new MyLittleJavaScript();var a=typeof settings.ajaxPreviewStructure=="string"?settings.ajaxPreviewStructure:false;if(mlf&&typeof lang=="object"){mlf.init(a)}});